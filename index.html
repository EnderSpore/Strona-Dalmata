<!doctype html>
<html lang="pl" style="background:#1b1b1b;color-scheme:dark;">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dalmata - Profesjonalne Us≈Çugi Budowlane</title>
  <meta name="description" content="Profesjonalne us≈Çugi budowlane ‚Äî remonty, budowa dom√≥w, elewacje. Dalmat Miko≈Ç√≥w. Skontaktuj siƒô z nami." />

  <!-- Favicon placeholder -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">

  <!-- Google Fonts: Cinzel Decorative (Branding) & Roboto (UI) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" xintegrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- SEO: LD+JSON Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Dalmat",
    "image": "",
    "@id": "",
    "url": "https://www.dalmata-remonty.pl",
    "telephone": "+48 534 428 609",
    "email": "michaldalmata9@gmail.com",
    "description": "Profesjonalne us≈Çugi budowlane ‚Äî remonty, budowa dom√≥w pod klucz, elewacje i instalacje. Gwarancja jako≈õci.",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "ul. Botaniczna 16",
      "addressLocality": "Miko≈Ç√≥w",
      "postalCode": "43-195",
      "addressCountry": "PL"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 50.1876453,
      "longitude": 18.8535812
    },
    "openingHoursSpecification": {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": [
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday"
      ],
      "opens": "09:00",
      "closes": "21:00"
    },
    "sameAs": []
  }
  </script>

  <style>
  /* ---------- Root palette ---------- */
  :root {
    --accent:#d32f2f; /* G≈Ç√≥wny kolor akcentu (czerwony) */
    --accent-dark: #b71c1c; /* Ciemniejszy akcent do hover */
    --dark:#111;
    --light:#f2f2f2;
    --bg:#1b1b1b;
    --panel:#242424; /* Kolor paneli */
    --muted:#aaa;
    --header-h: 64px; /* Sta≈Ça wysoko≈õƒá nag≈Ç√≥wka */
    font-family:"Roboto", Arial, sans-serif;
  }

  /* ---------- Global ---------- */
  *{box-sizing:border-box;margin:0;padding:0}

  html {
    scroll-behavior:smooth;
  }

  body {
    height: 100%;
    margin: 0;
    display: flex;
    flex-direction: column;
    background: linear-gradient(120deg, #1b1b1b, #222, #1a1a1a);
    background-size: 400% 400%;
    animation: bgShift 20s ease infinite;
    color: var(--light);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    overflow-x: clip; /* Zapobiega poziomemu scrollowaniu */
    position: relative; /* Dla kontekstu pozycjonowania */
  }

  /* Gradient animation */
  @keyframes bgShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Subtle overlay for visual depth */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
      radial-gradient(circle at 10% 20%, rgba(211,47,47,0.12), transparent 40%),
      radial-gradient(circle at 90% 80%, rgba(255,255,255,0.05), transparent 40%);
    pointer-events: none;
    z-index: 0;
  }

  /* Scrim (dimming overlay) for mobile menu */
  #mobile-nav-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 1299; /* Below nav, above content */
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  body.mobile-nav-open #mobile-nav-overlay {
    opacity: 1;
    pointer-events: auto; /* Allow clicking to close */
  }

  a {color:inherit;text-decoration:none}
  img {display:block;max-width:100%; height: auto;}

  /* ---------- Header (Fixed) ---------- */
  header {
    position:fixed; /* Wa≈ºne: Nag≈Ç√≥wek jest przyklejony */
    inset:0 0 auto 0;
    height:var(--header-h);
    background:rgba(17,17,17,0.95);
    color:var(--light);
    z-index:1200;
    backdrop-filter:blur(6px);
    border-bottom:1px solid rgba(255,255,255,0.05);
  }

  .topbar {
    max-width:1200px;
    margin:0 auto;
    height:var(--header-h);
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 20px;
  }

  .brand {
    display:flex;
    align-items:center;
    gap:12px;
    font-weight:700;
    color:var(--light);
  }

  .brand img {
    height:40px;
    border-radius:6px;
    background: transparent;
    padding:0;
  }

  .brand .brand-name {
    font-family:'Cinzel Decorative', serif;
    font-weight:700;
    font-size:1.9rem;
    letter-spacing:5px;
    color:var(--light);
  }

  /* ---------- Desktop Navigation ---------- */
  nav.desktop-nav {
    display:flex;
    gap:18px;
    align-items:center;
  }

  nav.desktop-nav a {
    color:var(--light);
    font-weight:600;
    padding:8px 10px;
    border-radius:6px;
    transition:background .2s,color .2s;
    position: relative;
  }

  /* Modern underscore effect */
  nav.desktop-nav a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 2px;
    background-color: var(--accent);
    transition: width 0.3s ease;
  }

  nav.desktop-nav a:hover::after,
  nav.desktop-nav a.active::after {
    width: 100%; /* Poka≈º podkre≈õlenie na hover i active */
  }

  nav.desktop-nav a.contact-btn {
    background:var(--accent);
    color:#fff;
  }
  nav.desktop-nav a.contact-btn:hover {
    background:var(--accent-dark);
    color:#fff;
  }
  nav.desktop-nav a.contact-btn::after {
    display: none; /* Ukryj podkre≈õlenie dla przycisku Kontakt */
  }

  /* ---------- Mobile Menu Toggle (Hamburger) ---------- */
  .menu-toggle {
    display:none; /* Ukryty na desktopie */
    background:transparent;
    border:0;
    color:var(--light);
    font-size:24px;
    z-index: 1301; /* Wy≈ºej ni≈º panel mobilny */
    position: relative; /* Dla ikony X */
    cursor: pointer;
  }

  /* ---------- Mobile Navigation Panel ---------- */
  nav.mobile-nav {
    display: flex; /* POPRAWKA: Zmieniono z 'none' na 'flex', aby umo≈ºliwiƒá animacjƒô transform */
    position: fixed;
    /* inset: 0; */ /* USUNIƒòTE: Koniec z pe≈Çnym ekranem */
    inset: 0 0 0 auto; /* NOWE: G√≥ra 0, D√≥≈Ç 0, Lewo auto, Prawo 0 */
    width: min(80vw, 320px); /* NOWE: Szeroko≈õƒá panelu */
    background: rgba(22, 22, 22, 0.9); /* Lepsze t≈Ço dla szk≈Ça */
    backdrop-filter: blur(12px);
    z-index: 1300;
    flex-direction: column;
    /* align-items: center; */ /* USUNIƒòTE */
    align-items: flex-start; /* NOWE: Wyr√≥wnanie do lewej */
    /* justify-content: center; */ /* USUNIƒòTE */
    justify-content: flex-start; /* NOWE: Od g√≥ry */
    gap: 15px; /* Zmniejszony odstƒôp */
    padding: calc(var(--header-h) + 30px) 30px; /* NOWE: Odstƒôpy wewnƒôtrzne */
    border-left: 1px solid rgba(255, 255, 255, 0.1); /* NOWE: Krawƒôd≈∫ */
    box-shadow: -10px 0 30px rgba(0,0,0,0.3); /* NOWE: Cie≈Ñ */

    /* Animacja wysuwania */
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  body.mobile-nav-open nav.mobile-nav {
    transform: translateX(0); /* Poka≈º menu */
  }

  /* Zmie≈Ñ hamburger w X */
  body.mobile-nav-open .menu-toggle .fa-bars {
    display: none;
  }
  body.mobile-nav-open .menu-toggle .fa-xmark {
    display: block !important; /* Poka≈º X */
  }

  nav.mobile-nav a {
    font-size: 1.2rem; /* Zmniejszona czcionka */
    font-weight: 600;
    color: var(--light);
    padding: 10px 0; /* Zmieniony padding */
    width: 100%; /* NOWE: Pe≈Çna szeroko≈õƒá w panelu */
    transition: color 0.2s ease, background 0.2s ease;
  }

  nav.mobile-nav a:hover,
  nav.mobile-nav a.active { /* NOWE: Stan aktywny/hover */
    color: var(--accent);
  }

  nav.mobile-nav a.contact-btn {
    margin-top: 10px; /* NOWE: Odstƒôp */
    background: var(--accent);
    color: #fff;
    border-radius: 8px;
    padding: 12px 20px; /* NOWE: Lepszy padding */
    text-align: center; /* NOWE */
  }

  nav.mobile-nav a.contact-btn:hover {
    background: var(--accent-dark);
    color: #fff;
  }

  /* ---------- Hero ---------- */
  .hero-wrap {
    width:100%;
    position:relative;
    top:var(--header-h); /* Zaczyna siƒô pod nag≈Ç√≥wkiem */
  }

  .hero {
    width:100vw;
    min-height:calc(100vh - var(--header-h));
    position:relative;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    color:var(--light);
  }

  .hero-slide {
    position:absolute;inset:0;
    background-size:cover;
    background-position:center;
    opacity:0;
    transform:scale(1.02);
    transition:opacity 1s ease, transform 1s ease;
  }
  .hero-slide.active{opacity:1;transform:scale(1)}

  .hero-overlay{
    position:absolute;inset:0;
    background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.55));
    z-index:2;
  }

  .hero-content{
    position:relative;z-index:3;max-width:980px;
    padding:0 20px;
    opacity:0;transform:translateY(30px);
    transition:all .9s cubic-bezier(.2,.9,.2,1);
    text-align:center;
  }
  .hero-content.visible{opacity:1;transform:translateY(0)}
  .hero h1{font-size:clamp(30px,6vw,64px);line-height:1.02;margin-bottom:16px}
  .hero p{max-width:760px;margin:0 auto 22px;color:rgba(255,255,255,0.92)}

  .cta-btn{
    background:var(--accent);
    color:#fff;
    border:0;
    padding:12px 20px;
    font-weight:700;
    cursor:pointer;
    box-shadow:0 8px 20px rgba(0,0,0,0.25);
    transition:transform .16s;
    border-radius: 8px; /* ZaokrƒÖglenie */
  }
  .cta-btn:hover{transform:translateY(-3px)}

  .hero-dots{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);z-index:4;display:flex;gap:8px}
  .hero-dots button{width:10px;height:10px;border-radius:50%;border:0;background:rgba(255,255,255,0.4);cursor:pointer}
  .hero-dots button.active{background:var(--accent)}

  /* ---------- Main Content ---------- */
  main {
    max-width:1200px;
    margin: 50px auto 0 auto; /* Odsuniƒôcie od t≈Ça */
    padding: 0 20px;
    /* Dodajemy margines g√≥rny, aby skompensowaƒá hero-wrap */
    margin-top: var(--header-h);
  }

  section {
    padding: 70px 0;
    opacity: 0; /* Domy≈õlnie ukryte dla animacji */
    transition: opacity 0.6s ease-out;
  }

  /* Animacja pojawiania siƒô sekcji przy scrollu */
  section.visible {
    opacity: 1;
  }

  h2 {
    text-align:center;
    font-size: clamp(28px, 5vw, 36px); /* Responsywny rozmiar */
    margin-bottom:32px;
    color:#fff;
  }

  /* ---------- About Section ---------- */
  .about{display:flex;gap:28px;align-items:center;flex-wrap:wrap}
  .about .txt{flex:1;min-width:300px;}
  .about .img {
    flex: 1;
    min-width: 300px;
    max-width: 420px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
  }
  .about .img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* NOWE: Style "Liquid Glass" dla kart */
  .about .txt .intro-text {
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--light);
    margin-bottom: 20px;
  }

  .about .txt .features-intro {
    font-weight: 600;
    font-size: 1.05rem;
    color: var(--light);
    margin-bottom: 20px;
  }

  .about .txt .features-list {
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 16px; /* Odstƒôp miƒôdzy kartami */
  }

  /* Karta "Liquid Glass" */
  .glass-card {
    position: relative;
    overflow: hidden; /* Wa≈ºne dla efektu "shine" */
    display: flex;
    align-items: flex-start;
    gap: 14px;

    /* Efekt szk≈Ça */
    background: rgba(36, 36, 36, 0.6); /* Ciemniejsze, p√≥≈Çprzezroczyste t≈Ço */
    backdrop-filter: blur(10px); /* Mocniejsze rozmycie dla "liquid" */
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;

    /* Miƒôkki cie≈Ñ */
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);

    /* Animacja */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  /* Efekt "Shine" przy najechaniu */
  .glass-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -150%; /* Zaczyna poza ekranem */
    width: 80%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.08), /* Subtelny po≈Çysk */
      transparent
    );
    transform: skewX(-25deg); /* Pochylenie po≈Çysku */
    transition: left 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  .glass-card:hover::before {
    left: 150%; /* Przesuniƒôcie po≈Çysku przez ca≈ÇƒÖ kartƒô */
  }

  .glass-card:hover {
    transform: translateY(-5px) scale(1.02); /* Lekkie uniesienie */
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
  }

  .glass-card i {
    color: var(--accent);
    font-size: 1rem;
    margin-top: 5px;
    flex-shrink: 0;
  }

  .glass-card .feature-item-text {
    flex: 1;
    font-size: 0.98rem;
    line-height: 1.6;
  }

  .glass-card .feature-item-text strong {
    color: var(--light);
    font-size: 1.05rem;
    display: block; /* Tytu≈Ç w osobnej linii */
    margin-bottom: 4px;
  }

  .about .txt .closing-text {
    margin-top: 24px;
    font-size: 1.1rem;
  }
  /* Koniec styli "Liquid Glass" */

  .highlights{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:16px;
    margin:24px 0;
  }
  .highlight{
    background:var(--panel);
    padding:16px;
    border-radius:8px;
    text-align:center;
    box-shadow:0 4px 14px rgba(0,0,0,0.3);
    transition:transform 0.2s ease, box-shadow 0.2s ease;
  }
  .highlight:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.45);}
  .highlight i{font-size:28px;color:var(--accent);margin-bottom:8px;display:block}
  .highlight span{font-weight:600;color:var(--light);font-size:1rem;}

  .about-btn{
    margin-top:24px;
    display:inline-flex;
    align-items:center;
    gap:10px;
    background:var(--accent);
    color:#fff;
    font-weight:700;
    font-size:1rem;
    padding:14px 40px; /* Mniejszy padding */
    border-radius:8px;
    text-decoration:none;
    transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
    box-shadow:0 8px 20px rgba(0,0,0,0.3);
  }
  .about-btn:hover{
    background:var(--accent-dark);
    transform:translateY(-3px);
    box-shadow:0 10px 24px rgba(0,0,0,0.45);
  }
  .about-btn i{font-size:1.1rem;transition:transform 0.2s ease;}
  .about-btn:hover i{transform:translateX(4px)}

  /* ---------- Services ---------- */
  .services{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:18px;
  }
  .service{
    position:relative;
    background-size:cover;
    background-position:center;
    color:#fff;
    border:none;
    border-radius:8px;
    padding:26px;
    text-align:center;
    overflow:hidden;
    transition:transform .25s,box-shadow .25s;
    min-height: 220px; /* Sta≈Ça minimalna wysoko≈õƒá */
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .service::before{
    content:"";
    position:absolute;inset:0;
    background:rgba(0,0,0,0.6);
    border-radius:inherit;
    transition: background 0.3s ease;
  }
  .service:hover::before {
    background: rgba(0,0,0,0.4); /* Rozja≈õnienie t≈Ça */
  }
  .service *{position:relative;z-index:1;}
  .service:hover{transform:translateY(-8px);box-shadow:0 12px 30px rgba(0,0,0,.5);}
  .service h3{color:var(--accent);margin-bottom:8px}
  .service i{font-size:40px;color:var(--accent);margin-bottom:12px;display:block}

  /* ---------- Realizacje (Gallery) ---------- */
  #realizacje .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
  }

  .gallery-item {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    display: none; /* Ukryte domy≈õlnie dla paginacji */
  }

  .gallery-item.visible {
    display: block; /* Pokazane przez JS */
  }

  .gallery-item::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,0.8));
    transition: background 0.3s ease;
  }

  .gallery-item:hover::after {
    background: linear-gradient(180deg, transparent 70%, rgba(0,0,0,0.9));
  }

  .gallery-item img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .gallery-item:hover img {
    transform: scale(1.05);
  }

  .gallery-item .caption {
    position: absolute;
    bottom: 16px;
    left: 16px;
    z-index: 2;
    color: #fff;
    font-weight: 600;
    transform: translateY(10px);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  .gallery-item:hover .caption {
    transform: translateY(0);
    opacity: 1;
  }

  #load-more-btn {
    display: block;
    margin: 30px auto 0;
    background: var(--accent);
    color: #fff;
    font-weight: 700;
    padding: 12px 24px;
    border: 0;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
  }
  #load-more-btn:hover {
    background: var(--accent-dark);
    transform: translateY(-2px);
  }
  #load-more-btn[disabled] {
    opacity: 0.6;
    cursor: default;
  }

  /* ---------- Lightbox (Modal) ---------- */
  .lightbox {
    position: fixed; /* Kluczowe: Pozycja wzglƒôdem ekranu (viewport) */
    inset: 0;
    background: rgba(0,0,0,0.9);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .lightbox.open {
    opacity: 1;
    visibility: visible;
  }

  .lightbox-content {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    display: flex; /* Dla centrowania obrazu */
    flex-direction: column;
    justify-content: center;
  }

  .lightbox img {
    max-width: 100%;
    max-height: calc(90vh - 50px); /* Zostaw miejsce na opis */
    object-fit: contain;
    border-radius: 8px;
  }

  .lightbox-caption {
    text-align: center;
    color: var(--light);
    margin-top: 10px;
    font-weight: 600;
  }

  .lightbox-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.1);
    color: #fff;
    border: 0;
    font-size: 2rem;
    cursor: pointer;
    padding: 10px 15px;
    border-radius: 50%;
    z-index: 2001;
    transition: background 0.2s;
  }
  .lightbox-btn:hover {
    background: rgba(255,255,255,0.2);
  }

  .lightbox-close {
    top: 20px;
    right: 20px;
    font-size: 1.5rem;
    padding: 8px 13px;
    transform: none; /* Nadpisz transform z .lightbox-btn */
  }

  .lightbox-prev { left: 20px; }
  .lightbox-next { right: 20px; }

  /* ---------- Kontakt ---------- */
  #kontakt{
    position:relative;
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;
    background-attachment:scroll;
    color:#fff;
    /* Sprawia, ≈ºe sekcja ma pe≈ÇnƒÖ szeroko≈õƒá */
    width:100vw;
    left:50%;right:50%;
    margin-left:-50vw;margin-right:-50vw;
  }
  #kontakt::before{
    content:"";
    position:absolute;inset:0;
    background:rgba(0,0,0,0.6);
    z-index:0;
  }
  #kontakt *{position:relative;z-index:1;}

  #kontakt .contact-grid-container {
    max-width:1200px; /* Kontener centrujƒÖcy */
    margin:0 auto;
    padding:0 20px;
  }

  #kontakt .contact-grid{
    display:grid;grid-template-columns:1fr 420px;gap:22px;
  }

  #kontakt form,
  #kontakt .info-card {
    background:rgba(36,36,36,0.95);
    color:var(--light);
    padding:20px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.08);
    box-shadow:0 8px 20px rgba(0,0,0,0.5);
  }

  #kontakt label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9rem;
    color: var(--muted);
  }

  #kontakt input,
  #kontakt textarea {
    width:100%;
    background:#1e1e1e;
    color:var(--light);
    padding:12px;
    border:1px solid rgba(255,255,255,0.15);
    border-radius:6px;
    margin-bottom:12px;
    font-size:0.98rem;
    font-family: "Roboto", Arial, sans-serif;
  }

  #kontakt input::placeholder,
  #kontakt textarea::placeholder {
    color:rgba(255,255,255,0.5);
  }

  #kontakt button[type=submit] {
    background:var(--accent);
    color:#fff;
    padding:12px 16px;
    border-radius:6px;
    border:0;
    font-weight:700;
    cursor:pointer;
    transition:background 0.2s, transform 0.2s;
  }

  #kontakt button[type=submit]:hover {
    background:var(--accent-dark);
    transform:translateY(-2px);
  }
  #kontakt button[disabled]{opacity:.6;cursor:default;}

  #kontakt .info-card h3 {
    color:var(--accent);
    margin-top:10px;
  }

  #kontakt a {
    color:var(--accent);
    text-decoration:none;
  }
  #kontakt a:hover {
    text-decoration:underline;
  }

  /* ---------- Footer ---------- */
  footer{
    background:#111;
    color:#ccc;
    padding:30px 20px;
    font-size:0.95rem;
    text-align:center;
    border-top:1px solid rgba(255,255,255,0.1);
  }

  /* ---------- Toast Notification (zamiast alert()) ---------- */
  .toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translate(-50%, 100px); /* Ukryty na dole */
    background: var(--panel);
    color: var(--light);
    padding: 16px 24px;
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    z-index: 3000;
    font-weight: 600;
    border: 1px solid rgba(255,255,255,0.1);
    transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
  }
  .toast.show {
    transform: translate(-50%, 0); /* Poka≈º */
  }
  .toast.success {
    background: #2e7d32; /* Zielony */
    color: #fff;
  }
  .toast.error {
    background: #c62828; /* Czerwony */
    color: #fff;
  }

  /* ---------- Google Reviews Badge ---------- */
  .reviews-badge {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 1100;
    background: #fff;
    color: #111;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 50px; /* Kszta≈Çt pigu≈Çki */
    font-weight: 600;
    font-size: 0.9rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    text-decoration: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .reviews-badge:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  }
  .reviews-badge img {
    height: 20px;
    width: 20px;
  }
  .reviews-badge .stars {
    color: #fbbc05; /* Google Gold */
  }
  .reviews-badge .badge-text {
    display: inline; /* Domy≈õlnie pokazany */
  }


  /* ---------- Responsive ---------- */

  /* Tablety i du≈ºe telefony */
  @media(max-width:980px){
    nav.desktop-nav {display:none;} /* Ukryj nav na desktop */
    .menu-toggle {display:block;} /* Poka≈º hamburger */

    .about {
      flex-direction:column-reverse; /* Obrazek na g√≥rze */
    }
    .about .img {
      width: 100%;
      max-width: 420px; /* Ogranicz szeroko≈õƒá obrazka */
      margin: 0 auto 20px auto; /* Centrowanie */
    }

    #kontakt .contact-grid{
      grid-template-columns:1fr; /* Formularz i mapa jeden pod drugim */
    }

    .hero h1{font-size:clamp(30px, 10vw, 48px);}
    .hero p { max-width: 90%; }

    .lightbox-btn {
      font-size: 1.5rem;
      padding: 8px 12px;
    }
    .lightbox-prev { left: 10px; }
    .lightbox-next { right: 10px; }
    .lightbox-close { top: 10px; right: 10px; }
  }

  /* Ma≈Çe telefony */
  @media(max-width:640px) {
    h2 { margin-bottom: 20px; }
    section { padding: 50px 0; }
    main { padding: 0 15px; }
    .topbar { padding: 0 15px; }

    .brand .brand-name {
      font-size: 1.5rem; /* Mniejsza nazwa firmy */
      letter-spacing: 3px;
    }

    .highlights {
      grid-template-columns: 1fr; /* Highlighty jeden pod drugim */
    }

    .services {
      grid-template-columns: 1fr; /* Us≈Çugi jedna pod drugƒÖ */
    }

    #realizacje .gallery-grid {
      grid-template-columns: 1fr; /* Galeria jedna kolumna */
    }

    .about-btn {
      padding: 14px 20px;
      width: 100%; /* Przycisk na pe≈ÇnƒÖ szeroko≈õƒá */
      justify-content: center;
    }

    #kontakt .contact-grid {
      gap: 16px;
    }

    #kontakt form,
    #kontakt .info-card {
      padding: 15px;
    }

    /* Zwi≈Ñ plakietkƒô Google do samej ikony */
    .reviews-badge {
      padding: 10px;
      width: 44px; /* K√≥≈Çko */
      height: 44px;
      justify-content: center;
    }
    .reviews-badge .badge-text,
    .reviews-badge .stars {
      display: none; /* Ukryj tekst i gwiazki */
    }
  }

  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="topbar">
      <a href="#" class="brand">
        <!-- Placeholder dla logo -->
        <img src="assets/favicon1.png" alt="Logo Dalmat">
        <div class="brand-name">Dalmata</div>
      </a>

      <!-- Desktop Navigation -->
      <nav class="desktop-nav" aria-label="G≈Ç√≥wne menu">
        <a href="#">Strona g≈Ç√≥wna</a>
        <a href="#o-nas">O nas</a>
        <a href="#uslugi">Us≈Çugi</a>
        <a href="#realizacje">Realizacje</a>
        <a href="#kontakt" class="contact-btn">Kontakt</a>
      </nav>

      <!-- Mobile Navigation -->
      <button class="menu-toggle" aria-expanded="false" aria-label="Poka≈º menu">
        <i class="fas fa-bars" aria-hidden="true"></i>
        <i class="fas fa-xmark" style="display: none;" aria-hidden="true"></i>
      </button>
    </div>
  </header>

  <!-- Mobile Navigation Panel (wysuwany) -->
  <nav class="mobile-nav" aria-label="Menu mobilne">
    <a href="#">Strona g≈Ç√≥wna</a>
    <a href="#o-nas">O nas</a>
    <a href="#uslugi">Us≈Çugi</a>
    <a href="#realizacje">Realizacje</a>
    <a href="#kontakt" class="contact-btn">Kontakt</a>
  </nav>
  <div id="mobile-nav-overlay"></div> <!-- NOWY ELEMENT: Przyciemniane t≈Ço -->

  <!-- HERO -->
  <div class="hero-wrap">
    <section class="hero">
      <div class="hero-overlay"></div>

      <!-- Dynamiczne slajdy t≈Ça (dodawane przez JS) -->

      <div class="hero-content">
        <h1>Profesjonalne us≈Çugi budowlane ‚Äî terminowo i solidnie</h1>
        <p>Remonty, budowa dom√≥w pod klucz, elewacje i instalacje. Bezp≈Çatna wycena i gwarancja jako≈õci.</p>
        <button class="cta-btn" onclick="document.querySelector('#kontakt').scrollIntoView({behavior:'smooth'})">Skontaktuj siƒô</button>
      </div>
      <div class="hero-dots"></div>
    </section>
  </div>

  <main>
    <!-- O NAS -->
    <section id="o-nas">
      <h2>O nas</h2>
      <div class="about">
        <div class="txt">

          <p class="intro-text"><strong>Dalmat</strong> to firma budowlana z ponad 10-letnim do≈õwiadczeniem, dzia≈ÇajƒÖca na terenie <strong>≈ölƒÖska i okolic.</strong></p>
          <p class="features-intro">Specjalizujemy siƒô w kompleksowych us≈Çugach wyko≈Ñczeniowych:</p>

          <!-- NOWE Karty "Liquid Glass" -->
          <ul class="features-list">
            <li class="glass-card">
              <i class="fas fa-check"></i>
              <div class="feature-item-text">
                <strong>Remonty "pod klucz"</strong>
                Pe≈Çen zakres prac od demonta≈ºu, przez g≈Çadzie i tynki, po pod≈Çogi, malowanie i instalacje.
              </div>
            </li>
            <li class="glass-card">
              <i class="fas fa-check"></i>
              <div class="feature-item-text">
                <strong>Remonty ≈Çazienek</strong>
                Kompleksowe realizacje, w tym hydroizolacje, uk≈Çadanie p≈Çytek, monta≈º armatury i prace wod.-kan.
              </div>
            </li>
            <li class="glass-card">
              <i class="fas fa-check"></i>
              <div class="feature-item-text">
                <strong>Koordynacja i Gwarancja</strong>
                ZarzƒÖdzamy harmonogramem, dostawami i udzielamy 1 rok gwarancji na nasze us≈Çugi.
              </div>
            </li>
          </ul>
          <p class="closing-text">Zapraszamy do kontaktu w celu bezp≈Çatnej, szczeg√≥≈Çowej wyceny.</p>

          <div class="highlights">
            <div class="highlight">
              <i class="fas fa-award"></i>
              <span>10+ lat do≈õwiadczenia</span>
            </div>
            <div class="highlight">
              <i class="fas fa-users"></i>
              <span>Wykwalifikowany zesp√≥≈Ç</span>
            </div>
            <div class="highlight">
              <i class="fas fa-shield-alt"></i>
              <span>Gwarancja jako≈õci</span>
            </div>
          </div>

          <a href="#realizacje" class="about-btn">
            Zobacz nasze realizacje <i class="fas fa-arrow-right"></i>
          </a>

        </div>
        <div class="img">
          <!-- Placeholder dla obrazka zespo≈Çu -->
          <img src="assets/team.png" alt="Zesp√≥≈Ç Dalmat">
        </div>
      </div>
    </section>

    <!-- US≈ÅUGI -->
    <section id="uslugi">
      <h2>Nasze us≈Çugi</h2>
      <div class="services">
        <!-- Placeholdery dla us≈Çug -->
        <div class="service" style="background-image:url('assets/service-elewacje.jpg')">
          <i class="fas fa-house-chimney"></i>
          <h3>Budowa dom√≥w</h3>
          <p>Realizacje od fundament√≥w po dach ‚Äî domy jednorodzinne pod klucz.</p>
        </div>
        <div class="service" style="background-image:url('assets/service-remonty.jpg')">
          <i class="fas fa-paint-roller"></i>
          <h3>Remonty</h3>
          <p>Remonty mieszka≈Ñ, ≈Çazienek, kuchni ‚Äî kompleksowe wyko≈Ñczenia.</p>
        </div>
        <div class="service" style="background-image:url('assets/service-budowa.jpg')">
          <i class="fas fa-brush"></i>
          <h3>Elewacje</h3>
          <p>Docieplenia, tynki dekoracyjne i malowanie elewacji.</p>
        </div>
        <div class="service" style="background-image:url('assets/service-instalacje.jpg')">
          <i class="fas fa-bolt"></i>
          <h3>Instalacje</h3>
          <p>Instalacje elektryczne, wod.-kan. i ogrzewanie wykonane przez specjalist√≥w.</p>
        </div>
      </div>
    </section>

    <!-- REALIZACJE -->
    <section id="realizacje">
      <h2>Nasze realizacje</h2>
      <div class="gallery-grid">
        <!-- Galeria bƒôdzie wype≈Çniona przez JS -->
      </div>
      <button id="load-more-btn" disabled>Wczytaj wiƒôcej</button>
    </section>

    <!-- KONTAKT -->
    <section id="kontakt">
      <div class="contact-grid-container"> <!-- Dodany kontener centrujƒÖcy -->
        <h2>Kontakt</h2>
        <div class="contact-grid">
          <form id="contactForm">
            <label for="name">Imiƒô i nazwisko</label>
            <input id="name" name="from_name" type="text" placeholder="Jan Kowalski" required>

            <label for="email">Email</label>
            <input id="email" name="from_email" type="email" placeholder="jan.kowalski@email.com" required>

            <label for="phone">Telefon (opcjonalnie)</label>
            <input id="phone" name="phone" type="tel" placeholder="+48 123 456 789">

            <label for="message">Wiadomo≈õƒá</label>
            <textarea id="message" name="message" rows="5" placeholder="Proszƒô o wycenƒô..." required></textarea>

            <button type="submit" id="submit-btn">Wy≈õlij wiadomo≈õƒá</button>
            <p style="margin-top:10px;color:var(--muted);font-size:0.9rem;">Alternatywnie zadzwo≈Ñ: <a href="tel:+48534428609">+48 534 428 609</a></p>
          </form>
          <div>
            <div class="info-card">
              <h3>Adres</h3>
              <p>43-195 Miko≈Ç√≥w, ul. Botaniczna 16</p>
              <h3>Godziny</h3>
              <p>pn‚Äìpt: 9:00‚Äì21:00</p>
              <h3>Email</h3>
              <p><a href="mailto:michaldalmata9@gmail.com">michaldalmata9@gmail.com</a></p>
            </div>
            <div style="margin-top:14px;border-radius:8px;overflow:hidden; border: 1px solid rgba(255,255,255,0.1);">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d638.6456327706361!2d18.853581264066143!3d50.187645307585164!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4716cb06f8e2ca9d%3A0xd831772c21c1ddc!2sBotaniczna%2016%2C%2043-190%20Miko%C5%82%C3%B3w!5e0!3m2!1spl!2spl!4v1759347984526!5m2!1spl!2spl" width="100%" height="350" style="border:0;" allowfullscreen loading="lazy"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-inner">
      ¬© 2025 Dalmat | <a href="mailto:michaldalmata9@gmail.com" style="color: var(--muted);">michaldalmata9@gmail.com</a>
    </div>
  </footer>

  <!-- Lightbox HTML (ukryty) -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-content">
      <img src="" alt="Realizacja - powiƒôkszenie" id="lightbox-img">
      <div class="lightbox-caption" id="lightbox-caption"></div>
    </div>
    <button class="lightbox-btn lightbox-close" id="lightbox-close">&times;</button>
    <button class="lightbox-btn lightbox-prev" id="lightbox-prev">&#10094;</button>
    <button class="lightbox-btn lightbox-next" id="lightbox-next">&#10095;</button>
  </div>

  <!-- Toast Notification HTML (ukryty) -->
  <div class="toast" id="toast">Wiadomo≈õƒá wys≈Çana!</div>

  <!-- Google Reviews Badge -->
  <!-- Link prowadzi do wyszukiwania Google dla Twojej firmy. ZastƒÖp URL, je≈õli masz bezpo≈õredni link do opinii -->
  <a href="https://www.google.com/search?q=Dalmat+Miko%C5%82%C3%B3w+opinie" target="_blank" rel="noopener noreferrer" class="reviews-badge">
    <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_160x56dp.png" alt="Google Logo">
    <span class="badge-text">Opinie</span>
    <span class="stars">
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
      <i class="fas fa-star"></i>
    </span>
  </a>

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <!-- G≈Ç√≥wny skrypt strony -->
  <script>
    (function() {
      "use strict";

      // TODO znalesc sposub zeby czytac sekrety z railway dla EmailJS
      // --- Konfiguracja ---
      const EMAILJS_SERVICE_ID = "service_60mz7p9";
      const EMAILJS_TEMPLATE_ID = "template_81puidr";
      const EMAILJS_PUBLIC_KEY = "JSaRac7QLOKz1Sm7Q";

      const HERO_SLIDES = [
        'assets/h34.png',
        'assets/h36.png',
        'assets/h3.png'
      ];

      // Baza danych dla galerii (placeholder)
      const GALLERY_ITEMS = [
        { img: 'assets/h1.png', title: '' },
        { img: 'assets/h2.png', title: '' },
        { img: 'assets/h3.png', title: '' },
        { img: 'assets/h4.png', title: '' },
        { img: 'assets/h5.png', title: '' },
        { img: 'assets/h6.png', title: '' },
        { img: 'assets/h7.png', title: '' },
        { img: 'assets/h8.png', title: '' },
        { img: 'assets/h9.png', title: '' },
        // --- Dodatkowe 9 obrazk√≥w ---
        { img: 'assets/h10.png', title: '' },
        { img: 'assets/h11.png', title: '' },
        { img: 'assets/h12.png', title: '' },
        { img: 'assets/h13.png', title: '' },
        { img: 'assets/h14.png', title: '' },
        { img: 'assets/h15.png', title: '' },
        { img: 'assets/h16.png', title: '' },
        { img: 'assets/h17.png', title: '' },
        { img: 'assets/h18.png', title: '' },
        { img: 'assets/h19.png', title: '' },
        { img: 'assets/h20.png', title: '' },
        { img: 'assets/h21.png', title: '' },
        { img: 'assets/h22.png', title: '' },
        { img: 'assets/h23.png', title: '' },
        { img: 'assets/h24.png', title: '' },
        { img: 'assets/h25.png', title: '' },
        { img: 'assets/h26.png', title: '' },
        { img: 'assets/h27.png', title: '' },
        { img: 'assets/h28.png', title: '' },
        { img: 'assets/h29.png', title: '' },
        { img: 'assets/h30.png', title: '' },
        { img: 'assets/h31.png', title: '' },
        { img: 'assets/h32.png', title: '' },
        { img: 'assets/h33.png', title: '' },
        { img: 'assets/h34.png', title: '' },
        { img: 'assets/h35.png', title: '' },
        { img: 'assets/h36.png', title: '' },
        { img: 'assets/h37.png', title: '' },
      ];

      const ITEMS_PER_PAGE = 6; // Paginacja po 9

      // --- Zmienne globalne ---
      let heroIndex = 0;
      let slideEls = [];
      let galleryIndex = 0;
      let currentLightboxIndex = 0;
      let visibleGalleryItems = []; // Przechowuje klikalne elementy galerii
      let headerHeight; // <-- Zadeklarowane tutaj

      const heroEl = document.querySelector('.hero');
      const heroContent = document.querySelector('.hero-content');
      const heroDots = document.querySelector('.hero-dots');

      const menuToggle = document.querySelector('.menu-toggle');
      const mobileNav = document.querySelector('nav.mobile-nav'); // POPRAWKA: Poprawiony selektor
      const mobileNavOverlay = document.getElementById('mobile-nav-overlay'); // NOWA ZMIENNA

      const galleryGrid = document.querySelector('#realizacje .gallery-grid');
      const loadMoreBtn = document.getElementById('load-more-btn');

      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxCaption = document.getElementById('lightbox-caption');
      const lightboxClose = document.getElementById('lightbox-close');
      const lightboxPrev = document.getElementById('lightbox-prev');
      const lightboxNext = document.getElementById('lightbox-next');

      const contactForm = document.getElementById('contactForm');
      const submitBtn = document.getElementById('submit-btn');
      const toastEl = document.getElementById('toast');

      const allSections = document.querySelectorAll('section');
      const navLinks = document.querySelectorAll('nav.desktop-nav a');
      const mobileNavLinks = document.querySelectorAll('nav.mobile-nav a');

      // --- Inicjalizacja ---

      document.addEventListener('DOMContentLoaded', () => {
        // Pobierz wysoko≈õƒá nag≈Ç√≥wka z CSS po za≈Çadowaniu DOM
        headerHeight = getComputedStyle(document.documentElement).getPropertyValue('--header-h').trim();

        initHeroSlider();
        initMobileMenu();
        initGallery();
        initLightbox();
        initEmailJS();
        initContactForm();
        initScrollSpy();
        initIntersectionObserver();

        // Poka≈º tre≈õƒá hero po kr√≥tkiej chwili
        window.addEventListener('load', () => {
          setTimeout(() => heroContent.classList.add('visible'), 250)
        });
      });

      // --- Hero Slider ---

      function initHeroSlider() {
        HERO_SLIDES.forEach((src, i) => {
          const d = document.createElement('div');
          d.className = 'hero-slide';
          if (i === 0) d.classList.add('active');
          d.style.backgroundImage = `url("${src}")`;
          heroEl.appendChild(d);
          slideEls.push(d);

          const dot = document.createElement('button');
          if (i === 0) dot.classList.add('active');
          dot.setAttribute('aria-label', `Prze≈ÇƒÖcz na slajd ${i + 1}`);
          dot.onclick = () => gotoSlide(i);
          heroDots.appendChild(dot);
        });

        setInterval(() => gotoSlide((heroIndex + 1) % slideEls.length), 4500);
      }

      function gotoSlide(i) {
        if (i === heroIndex) return;
        slideEls[heroIndex].classList.remove('active');
        heroDots.children[heroIndex].classList.remove('active');
        heroIndex = i;
        slideEls[heroIndex].classList.add('active');
        heroDots.children[heroIndex].classList.add('active');
      }

      // --- Mobile Menu ---

      function initMobileMenu() {
        menuToggle.addEventListener('click', toggleMenu); // Zmieniono na funkcjƒô
        mobileNavOverlay.addEventListener('click', closeMenu); // NOWY LISTENER

        // Zamykanie menu po klikniƒôciu linku
        mobileNavLinks.forEach(link => {
          link.addEventListener('click', closeMenu); // Zmieniono na funkcjƒô
        });
      }

      // NOWE FUNKCJE
      function toggleMenu() {
        const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
        if (isExpanded) {
          closeMenu();
        } else {
          openMenu();
        }
      }

      function openMenu() {
        menuToggle.setAttribute('aria-expanded', 'true');
        document.body.classList.add('mobile-nav-open');
        document.body.style.overflow = 'hidden'; // Zablokuj scrollowanie t≈Ça
      }

      function closeMenu() {
        menuToggle.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('mobile-nav-open');
        if (!lightbox.classList.contains('open')) { // Odblokuj tylko, je≈õli lightbox jest zamkniƒôty
          document.body.style.overflow = ''; // Odblokuj scrollowanie
        }
      }

      // --- Gallery & Pagination ---

      function initGallery() {
        loadMoreBtn.addEventListener('click', loadMoreItems);
        loadMoreItems(); // Wczytaj pierwszƒÖ partiƒô
      }

      function loadMoreItems() {
        const nextItems = GALLERY_ITEMS.slice(galleryIndex, galleryIndex + ITEMS_PER_PAGE);

        nextItems.forEach((item, i) => {
          const itemIndex = galleryIndex + i;
          const el = document.createElement('div');
          el.className = 'gallery-item';

          // U≈ºyj data-src dla lazy loadingu
          el.innerHTML = `
            <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                 data-src="${item.img}"
                 alt="${item.title}"
                 loading="lazy"
                 class="lazy-load">
            <div class="caption">${item.title}</div>
          `;

          el.addEventListener('click', () => openLightbox(itemIndex));

          galleryGrid.appendChild(el);
          visibleGalleryItems.push(el); // Dodaj do listy klikalnych

          // Poka≈º element i za≈Çaduj obrazek (po kr√≥tkiej chwili dla animacji)
          setTimeout(() => {
            el.classList.add('visible');
            loadLazyImage(el.querySelector('.lazy-load'));
          }, 100 * (i % ITEMS_PER_PAGE));
        });

        galleryIndex += nextItems.length;

        // Zaktualizuj przycisk "Wczytaj wiƒôcej"
        if (galleryIndex >= GALLERY_ITEMS.length) {
          loadMoreBtn.textContent = "To wszystko";
          loadMoreBtn.disabled = true;
        } else {
          loadMoreBtn.disabled = false;
        }
      }

      function loadLazyImage(img) {
        if (img && img.dataset.src) {
          img.src = img.dataset.src;
          img.removeAttribute('data-src');
        }
      }

      // --- Lightbox ---

      function initLightbox() {
        lightboxClose.addEventListener('click', closeLightbox);
        lightboxPrev.addEventListener('click', showPrevImage);
        lightboxNext.addEventListener('click', showNextImage);

        lightbox.addEventListener('click', (e) => {
          if (e.target === lightbox) { // Klikniƒôcie w t≈Ço
            closeLightbox();
          }
        });

        document.addEventListener('keydown', (e) => {
          if (!lightbox.classList.contains('open')) return;
          if (e.key === 'Escape') closeLightbox();
          if (e.key === 'ArrowLeft') showPrevImage();
          if (e.key === 'ArrowRight') showNextImage();
        });
      }

      function openLightbox(index) {
        currentLightboxIndex = index;
        updateLightboxImage();
        lightbox.classList.add('open');
        document.body.style.overflow = 'hidden'; // Zablokuj scrollowanie t≈Ça
      }

      function closeLightbox() {
        lightbox.classList.remove('open');
        if (!document.body.classList.contains('mobile-nav-open')) { // Odblokuj tylko, je≈õli menu jest zamkniƒôte
          document.body.style.overflow = ''; // Odblokuj scrollowanie
        }
      }

      function updateLightboxImage() {
        const item = GALLERY_ITEMS[currentLightboxIndex];
        lightboxImg.src = item.img;
        lightboxImg.alt = item.title;
        lightboxCaption.textContent = item.title;
      }

      function showPrevImage() {
        currentLightboxIndex = (currentLightboxIndex - 1 + GALLERY_ITEMS.length) % GALLERY_ITEMS.length;
        updateLightboxImage();
      }

      function showNextImage() {
        currentLightboxIndex = (currentLightboxIndex + 1) % GALLERY_ITEMS.length;
        updateLightboxImage();
      }

      // --- Contact Form (EmailJS) ---

      function initEmailJS() {
        emailjs.init("JSaRac7QLOKz1Sm7Q");
      }

      function initContactForm() {
        contactForm.addEventListener('submit', async (e) => {
          e.preventDefault();

          submitBtn.disabled = true;
          submitBtn.textContent = "Wysy≈Çanie...";

          try {
            await emailjs.sendForm("service_60mz7p9", "template_81puidr", contactForm);
            showToast("‚úÖ Wiadomo≈õƒá zosta≈Ça wys≈Çana!", "success");
            contactForm.reset();
          } catch (error) {
            console.error("‚ùå B≈ÇƒÖd wysy≈Çki:", error);
            showToast("‚ùå Wysy≈Çka siƒô nie uda≈Ça. Spr√≥buj ponownie.", "error");
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = "Wy≈õlij wiadomo≈õƒá";
          }
        });
      }

      function showToast(message, type = "") {
        toastEl.textContent = message;
        toastEl.className = "toast"; // Resetuj klasy
        if (type) {
          toastEl.classList.add(type);
        }
        toastEl.classList.add("show");

        setTimeout(() => {
          toastEl.classList.remove("show");
        }, 3000);
      }

      // --- ScrollSpy (Aktywne linki w nawigacji) ---

      function initScrollSpy() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const id = entry.target.getAttribute('id');

              // Usu≈Ñ 'active' ze wszystkich link√≥w
              navLinks.forEach(link => link.classList.remove('active'));
              mobileNavLinks.forEach(link => link.classList.remove('active'));

              // Dodaj 'active' do pasujƒÖcego linku
              const activeLink = document.querySelector(`nav.desktop-nav a[href="#${id}"]`);
              if (activeLink) {
                activeLink.classList.add('active');
              }
              const activeMobileLink = document.querySelector(`nav.mobile-nav a[href="#${id}"]`);
              if (activeMobileLink) {
                activeMobileLink.classList.add('active');
              }
            }
          });
        }, {
          rootMargin: `-${headerHeight} 0px 0px 0px`, // <-- POPRAWKA: U≈ºyj zmiennej JS
          threshold: 0.4 // 40% sekcji musi byƒá widoczne
        });

        // Obserwuj sekcje z ID
        document.querySelectorAll('section[id]').forEach(section => {
          observer.observe(section);
        });
      }

      // --- Intersection Observer (Animacje przy scrollu) ---

      function initIntersectionObserver() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              observer.unobserve(entry.target); // Animuj tylko raz
            }
          });
        }, { threshold: 0.1 }); // 10% widoczne

        allSections.forEach(section => {
          observer.observe(section);
        });
      }

    })();
  </script>
</body>
</html>

